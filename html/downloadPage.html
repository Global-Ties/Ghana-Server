<!DOCTYPE html>
<html>
<header>
    <h1>Web Crawler Example</h1>
    <link rel="stylesheet" href="downloadPage.css" />
</header>
<body class="body">
    <div class="container">
        <div class="dash uno"></div>
        <div class="dash dos"></div>
        <div class="dash tres"></div>
        <div class="dash cuatro"></div>
    </div>

    <h4>Download a website:
        <form onsubmit="download(); return false">
            <ul id="form_details">
                <li>Name:
                    <input id="name" placeholder="Name" required>
                </li>
                <li>URL:
                    <input id="url" placeholder="URL" required/>
                </li>
                <li>Grades:
                    <!-- ADD INSTURCTIONS TO SELECT MULTIPLE (CTRL VS SHIFT) -->
                    <select id="grade" multiple required>
                        <option value="Grade_1" >1st Grade</option>
                        <option value="Grade_2" >2nd Grade</option>
                        <option value="Grade_3" >3rd Grade</option>
                        <option value="Grade_4" >4th Grade</option>
                        <option value="Grade_5" >5th Grade</option>
                        <option value="Grade_6" >6th Grade</option>
                    </select>
                </li>
            </ul>
            <input type="submit" value="Download">
        </form>
    </h4>   

</body>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    function download() {
        var name = document.getElementById("name").value;
        var url = document.getElementById("url").value;
        var grades = [];

        var options = document.getElementById("grade").options;
        for ( var i = 0; i < options.length; i ++) {
            if ( options[i].selected ) {
                grades.push(options[i].value);
            }
        }

        /** CHANGE NAME TO TEACHER NAME WHEN ACCOUNTS ARE SET UP**/
        var downloadRequest = {};
        downloadRequest[name] = {
            name: name,
            url: url,
            grades: 15,
            time: new Date()
        }

        axios.post('/api/download', downloadRequest).then(function(res) {
            console.log("POST RESPONSE:", res);
        }).catch(function(err) {
            console.err(err);
        })
    }
</script>

</html>